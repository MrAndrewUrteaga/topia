{"ast":null,"code":"import { calculateDistance } from \"./findDistance\";\nexport default function listUsersInView(users, positionX, positionY, screenWidth, screenHeight) {\n  const usersInView = [];\n  const avatarHeight = 125;\n  const avatarWidth = 50;\n\n  // WRITE SOLUTION BELOW. ADD USERNAME AND IS_BROADCASTER TO 'usersInView' IF USER FALLS INTO VISIBLE RANGE\n  for (const userId in users) {\n    if (users.hasOwnProperty(userId)) {\n      const user = users[userId];\n      const {\n        x,\n        y\n      } = user;\n      const distance = calculateDistance(x, y, positionX, positionY).toFixed(2);\n\n      // Calculate the bounds of the user's avatar\n      const minX = x - avatarWidth / 2;\n      const maxX = x + avatarWidth / 2;\n      const minY = y - avatarHeight / 2;\n      const maxY = y + avatarHeight / 2;\n\n      // Check if the user's avatar is within the viewport\n      const isInView = minX <= positionX + screenWidth / 2 && maxX >= positionX - screenWidth / 2 && minY <= positionY + screenHeight / 2 && maxY >= positionY - screenHeight / 2;\n      if (isInView) {\n        usersInView.push({\n          ...users[userId],\n          distance\n        });\n      }\n    }\n  }\n  // END SOLUTION SECTION\n\n  return usersInView;\n}","map":{"version":3,"names":["calculateDistance","listUsersInView","users","positionX","positionY","screenWidth","screenHeight","usersInView","avatarHeight","avatarWidth","userId","hasOwnProperty","user","x","y","distance","toFixed","minX","maxX","minY","maxY","isInView","push"],"sources":["/Users/drew/topia/src/utils/listUsersInView.js"],"sourcesContent":["import { calculateDistance } from \"./findDistance\";\n\nexport default function listUsersInView(users, positionX, positionY, screenWidth, screenHeight) {\n  const usersInView = [];\n  const avatarHeight = 125;\n  const avatarWidth = 50;\n\n  // WRITE SOLUTION BELOW. ADD USERNAME AND IS_BROADCASTER TO 'usersInView' IF USER FALLS INTO VISIBLE RANGE\n  for (const userId in users) {\n    if (users.hasOwnProperty(userId)) {\n      const user = users[userId];\n      const { x, y } = user;\n      const distance = calculateDistance(x,y, positionX, positionY).toFixed(2);\n\n      // Calculate the bounds of the user's avatar\n      const minX = x - avatarWidth / 2;\n      const maxX = x + avatarWidth / 2;\n      const minY = y - avatarHeight / 2;\n      const maxY = y + avatarHeight / 2;\n\n      // Check if the user's avatar is within the viewport\n      const isInView =\n        minX <= positionX + screenWidth / 2 &&\n        maxX >= positionX - screenWidth / 2 &&\n        minY <= positionY + screenHeight / 2 &&\n        maxY >= positionY - screenHeight / 2;\n\n      if (isInView) {\n        usersInView.push({...users[userId], distance});\n      }\n    }\n  }\n  // END SOLUTION SECTION\n\n  return usersInView;\n}"],"mappings":"AAAA,SAASA,iBAAiB,QAAQ,gBAAgB;AAElD,eAAe,SAASC,eAAeA,CAACC,KAAK,EAAEC,SAAS,EAAEC,SAAS,EAAEC,WAAW,EAAEC,YAAY,EAAE;EAC9F,MAAMC,WAAW,GAAG,EAAE;EACtB,MAAMC,YAAY,GAAG,GAAG;EACxB,MAAMC,WAAW,GAAG,EAAE;;EAEtB;EACA,KAAK,MAAMC,MAAM,IAAIR,KAAK,EAAE;IAC1B,IAAIA,KAAK,CAACS,cAAc,CAACD,MAAM,CAAC,EAAE;MAChC,MAAME,IAAI,GAAGV,KAAK,CAACQ,MAAM,CAAC;MAC1B,MAAM;QAAEG,CAAC;QAAEC;MAAE,CAAC,GAAGF,IAAI;MACrB,MAAMG,QAAQ,GAAGf,iBAAiB,CAACa,CAAC,EAACC,CAAC,EAAEX,SAAS,EAAEC,SAAS,CAAC,CAACY,OAAO,CAAC,CAAC,CAAC;;MAExE;MACA,MAAMC,IAAI,GAAGJ,CAAC,GAAGJ,WAAW,GAAG,CAAC;MAChC,MAAMS,IAAI,GAAGL,CAAC,GAAGJ,WAAW,GAAG,CAAC;MAChC,MAAMU,IAAI,GAAGL,CAAC,GAAGN,YAAY,GAAG,CAAC;MACjC,MAAMY,IAAI,GAAGN,CAAC,GAAGN,YAAY,GAAG,CAAC;;MAEjC;MACA,MAAMa,QAAQ,GACZJ,IAAI,IAAId,SAAS,GAAGE,WAAW,GAAG,CAAC,IACnCa,IAAI,IAAIf,SAAS,GAAGE,WAAW,GAAG,CAAC,IACnCc,IAAI,IAAIf,SAAS,GAAGE,YAAY,GAAG,CAAC,IACpCc,IAAI,IAAIhB,SAAS,GAAGE,YAAY,GAAG,CAAC;MAEtC,IAAIe,QAAQ,EAAE;QACZd,WAAW,CAACe,IAAI,CAAC;UAAC,GAAGpB,KAAK,CAACQ,MAAM,CAAC;UAAEK;QAAQ,CAAC,CAAC;MAChD;IACF;EACF;EACA;;EAEA,OAAOR,WAAW;AACpB"},"metadata":{},"sourceType":"module","externalDependencies":[]}